<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <meta name="title" th:content="${generalInfo.fullName} + ' - ' + ${generalInfo.jobTitle}">
    <meta property="og:title" th:content="${generalInfo.fullName} + ' - ' + ${generalInfo.jobTitle}">
    <meta property="og:type" th:content="website">
    <meta property="og:url" th:content="${currentUrl}">
    <meta property="og:image" th:content="${currentUrl} + 'icons/photo.jpg'">

    <meta name="description" th:content="${generalInfo.status}">
    <meta property="og:description" th:content="${generalInfo.status}">

    <meta name="keywords" th:content="${generalInfo.fullName} + ', ' + ${generalInfo.jobTitle}">

    <title th:text="${generalInfo.fullName}"></title>
    <link rel="shortcut icon" type="image/png" th:href="@{/icons/logo.png}"/>

    <!-- Prism core -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs/themes/prism-tomorrow.min.css">
    <script src="https://cdn.jsdelivr.net/npm/prismjs/prism.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/prismjs/plugins/autoloader/prism-autoloader.min.js"></script>

    <script th:src="@{/js/markdown.js}"></script>
    <script th:src="@{/js/tab-component.js}"></script>

    <link rel="stylesheet" th:href="@{/css/style.css}">
    <link rel="stylesheet" th:href="@{/css/index.css}">
    <link rel="stylesheet" th:href="@{/css/markdown.css}">
</head>
<body>
<div id="content" class="vertical-flex gap-2">
    <div class="content-block vertical-flex gap-2">
        <div class="horizontal-flex gap-2 wrapped">
            <img class="avatar border-high" th:src="@{/icons/photo.jpg}" src="" alt="Avatar">
            <div class="vertical-flex justify-space-between gap-2" id="general-info">
                <h1 class="margin-0" th:text="${generalInfo.fullName}"></h1>
                <p class="margin-0" th:text="${generalInfo.status}"></p>

                <div class="horizontal-flex gap-1 wrapped">
                    <a class="button-with-icon" th:each="link, status : ${links}" th:href="${link.url}"
                       th:aria-label="${link.name}"
                       target="_blank">
                        <img th:src="${link.icon}" th:alt="${link.name}" alt="" src="" th:text="${link.name}">
                    </a>
                </div>
            </div>
        </div>
    </div>

    <div class="content-block vertical-flex gap-2 foreground-1 border-normal padding-2 width-fill-available">
        <div class="vertical-flex gap-1">
            <h3 class="margin-0">Информация</h3>
            <div class="horizontal-flex gap-1 justify-space-between">
                <span>Опыт работы:</span>
                <span class="text-align-right" th:text="${workExperience}"></span>
            </div>
        </div>
        <div class="vertical-flex gap-1 padding-top-2 border-top-normal">
            <h3 class="margin-0">Стек</h3>
            <div class="horizontal-flex gap-1 wrapped">
                <div class="tag" th:each="skill : ${skills}">
                    <span th:text="${skill.name}"></span>
                </div>
            </div>
        </div>
    </div>

    <div class="tab vertical-flex gap-2">
        <div class="tab-button-holder width-fill-available">
            <div class="tab-button">Карьера</div>
            <div class="tab-button">Проекты</div>
        </div>

        <div class="tab-content">
            <div class="content-block vertical-flex gap-2">
                <div class="content-block border-normal foreground-1 padding-2 vertical-flex gap-2"
                     th:each="work : ${works}">
                    <div class="horizontal-flex gap-1 align-items-center">
                        <img class="icon-3" th:src="'/icons/work/' + ${work.icon}" th:if="${work.icon != null}"
                             src=""
                             alt="">
                        <h2 class="margin-0" th:text="${work.name}"></h2>
                    </div>
                    <div class="vertical-flex gap-1 padding-top-1 border-top-normal">
                        <div class="horizontal-flex gap-1 justify-space-between" th:if="${work.legalName != null}">
                            <span>Наименование:</span>
                            <span class="text-align-right" th:text="${work.legalName}"></span>
                        </div>
                        <div class="horizontal-flex gap-1 justify-space-between" th:if="${work.position != null}">
                            <span>Позиция:</span>
                            <span class="text-align-right" th:text="${work.position}"></span>
                        </div>
                        <div class="horizontal-flex gap-1 justify-space-between">
                            <span>Время работы:</span>
                            <span class="text-align-right"
                                  th:text="${work.period.displayText} + ' (' + ${work.getFormatedPeriod()} + ')'"></span>
                        </div>
                    </div>
                    <div class="vertical-flex gap-1 padding-top-2 border-top-normal"
                         th:if="${not #lists.isEmpty(work.tasks)}">
                        <h3 class="margin-0">Задачи</h3>
                        <div class="width-fill-available md-content">
                            <p th:each="task : ${work.tasks}" th:text="${task}"></p>
                        </div>
                    </div>
                    <div class="vertical-flex gap-1 padding-top-2 border-top-normal"
                         th:if="${not #lists.isEmpty(work.progress)}">
                        <h3 class="margin-0">Достижения</h3>
                        <div class="width-fill-available md-content">
                            <p th:each="progress : ${work.progress}" th:text="${progress}"></p>
                        </div>
                    </div>
                    <div class="vertical-flex gap-1 padding-top-2 border-top-normal">
                        <h3 class="margin-0">Стек</h3>
                        <div class="horizontal-flex gap-1 wrapped">
                            <div class="tag" th:each="skill : ${work.stack}">
                                <span th:text="${skill}"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="content-block vertical-flex gap-1">
                <div class="vertical-flex gap-2">
                    <div class="content-block foreground-1 border-normal padding-2 width-fill-available md-content"
                         th:each="project : ${projects}" th:utext="${project}"></div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>